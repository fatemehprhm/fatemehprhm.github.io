<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <script src="../assets/js/config.js"></script>
    <script src="../assets/js/head.js"></script>
    <script> loadHeadContent('Art Gallery') </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
</head>
<body class="overflow-x-hidden">
    <canvas id="hero-canvas"></canvas>

    <main>
        <!-- Art Gallery Page (Gallery) -->
        <section id="art" class="page-section active">
            <div class="container mx-auto px-6 py-20">
                <h2 class="text-4xl font-bold text-white text-center mb-12">Art Gallery</h2>
                <div class="flex justify-center mb-12">
                    <p class="text-justify max-w-prose text-gray-300">
                        I've been painting since I was a child, so I thought—why not share some of my work here on my website? You'll also find a few crochet, embroidery, and other handmade pieces. Just a note: not all of the artwork featured is originally mine.
                    </p>
                </div>
                
                <!-- Gallery Grid -->
                <div id="artworks-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                    <!-- Artworks will be loaded here by JavaScript -->
                </div>
            </div>
        </section>

        <script>
        // Function to load and parse YAML file
        async function loadArtworks() {
            try {
                const response = await fetch('../lists/artworks.yaml');
                const yamlText = await response.text();
                const data = jsyaml.load(yamlText);
                
                renderArtworks(data.artworks);
            } catch (error) {
                console.error('Error loading artworks:', error);
            }
        }

        // Function to render artworks in the gallery
        function renderArtworks(artworks) {
            const grid = document.getElementById('artworks-grid');
            grid.innerHTML = '';
            
            artworks.forEach(artwork => {
                const artworkElement = document.createElement('div');
                artworkElement.className = 'group cursor-pointer';
                artworkElement.innerHTML = `
                    <div class="relative overflow-hidden rounded-lg bg-gray-800 aspect-[3/4] hover:scale-105 transition-transform duration-300">
                        <img src="${artwork.image}" 
                            alt="${artwork.alt}" 
                            class="w-full h-full object-cover group-hover:opacity-90 transition-opacity duration-300"
                            onclick="openArtworkModal('${artwork.id}', '${artwork.image}', '${artwork.alt}')">
                        <div class="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300"></div>
                    </div>
                `;
                grid.appendChild(artworkElement);
            });
        }

        // Function to open artwork in modal
        function openArtworkModal(id, image, alt) {
            // Create modal overlay
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4';
            modal.innerHTML = `
                <div class="relative max-w-4xl max-h-full">
                    <img src="${image}" alt="${alt}" class="max-w-full max-h-full object-contain rounded-lg">
                    <button onclick="this.parentElement.parentElement.remove()" 
                            class="absolute top-4 right-4 text-white text-2xl bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-75 transition-all">
                        ×
                    </button>
                </div>
            `;
            
            // Close modal when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
            
            document.body.appendChild(modal);
        }

        // Load artworks when page loads
        document.addEventListener('DOMContentLoaded', loadArtworks);
        </script>
    </main>

    <script src="../assets/js/components.js"></script>
    <script src="../assets/js/script.js"></script>
</body>
</html>
